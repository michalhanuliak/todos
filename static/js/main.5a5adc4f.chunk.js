(this.webpackJsonptodos=this.webpackJsonptodos||[]).push([[0],{33:function(t,e,n){},53:function(t,e,n){},54:function(t,e,n){},55:function(t,e,n){},56:function(t,e,n){},57:function(t,e,n){},58:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n(10),o=n.n(a),i=n(3),r=n(12),s=n(23),u=n(1),l={isLoading:!0,tasks:[]},j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,e=arguments.length>1?arguments[1]:void 0,n=e.type,c=e.payload;switch(n){case"START_FETCHING":return Object(u.a)(Object(u.a)({},t),{},{isLoading:!0});case"GET_TASKS":case"CREATE_TASK":return{isLoading:!1,tasks:c};case"UPDATE_TASK":case"DELETE_TASK":case"CHANGE_TASK_STATUS":return Object(u.a)(Object(u.a)({},t),{},{tasks:c});default:return t}},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,n=e.type,c=e.payload;switch(n){case"SET_FILTER_STATUS":return c;default:return t}},d=Object(r.b)({tasks:j,filterStatus:b}),O=Object(r.c)(d,Object(r.a)(s.a)),p=n(5),f=n.n(p),m=(n(33),n(2)),h=new f.a({name:"filter"}),x=function(){var t=Object(i.b)();return Object(m.jsxs)("div",Object(u.a)(Object(u.a)({},h()),{},{onChange:function(e){return t({type:"SET_FILTER_STATUS",payload:e.target.value})},children:[Object(m.jsx)("input",Object(u.a)(Object(u.a)({},h("input")),{},{id:"all",type:"radio",name:"taskFilter",value:"all"})),Object(m.jsx)("label",Object(u.a)(Object(u.a)({},h("label")),{},{htmlFor:"all",children:" All "})),Object(m.jsx)("input",Object(u.a)(Object(u.a)({},h("input")),{},{id:"completed",type:"radio",name:"taskFilter",value:"completed"})),Object(m.jsx)("label",Object(u.a)(Object(u.a)({},h("label")),{},{htmlFor:"completed",children:" Completed "})),Object(m.jsx)("input",Object(u.a)(Object(u.a)({},h("input")),{},{id:"uncompleted",type:"radio",name:"taskFilter",value:"uncompleted"})),Object(m.jsx)("label",Object(u.a)(Object(u.a)({},h("label")),{},{htmlFor:"uncompleted",children:" Uncompleted "}))]}))},v=n(8),k=n(24),T=n(6),S=n.n(T),y=function(t){return function(e,n){S.a.delete("/todos/".concat(t)).catch((function(t){return alert(t)})),e({type:"DELETE_TASK",payload:n().tasks.tasks.filter((function(e){return e.id!==t}))})}},E=function(t){return function(e,n){var c=n().tasks.tasks,a=c.findIndex((function(e){return e.id===t})),o=c[a].completed?"/todos/".concat(t,"/incomplete"):"/todos/".concat(t,"/complete");S.a.post(o).catch((function(t){return alert(t)})),e({type:"CHANGE_TASK_STATUS",payload:c.map((function(e){return e.id===t?Object(u.a)(Object(u.a)({},e),{},{completed:!e.completed}):e}))})}},g=(n(53),new f.a({name:"new-task"})),_=function(){var t=Object(i.b)(),e=Object(c.useState)(""),n=Object(v.a)(e,2),a=n[0],o=n[1];return Object(m.jsxs)("form",Object(u.a)(Object(u.a)({},g()),{},{onSubmit:function(e){var n;e.preventDefault(),t({type:"START_FETCHING"}),t((n=a,function(t,e){var c=e().tasks.tasks,a={text:n};S.a.post("/todos/",a).then((function(e){t({type:"CREATE_TASK",payload:[].concat(Object(k.a)(c),[e.data])})})).catch((function(t){return alert(t)}))})),o("")},children:[Object(m.jsx)("input",Object(u.a)(Object(u.a)({},g("input")),{},{name:"newTaskName",value:a,onChange:function(t){o(t.target.value)}})),Object(m.jsx)("button",Object(u.a)(Object(u.a)({},g("button")),{},{name:"add-task",children:Object(m.jsx)("i",{className:"fas fa-plus"})}))]}))},A=(n(54),new f.a({name:"actions"})),C=function(){var t=Object(i.c)((function(t){return t})),e=t.filterStatus,n=t.tasks.tasks,c=Object(i.b)(),a=n.filter((function(t){return!0===t.completed})).length;return Object(m.jsxs)("div",Object(u.a)(Object(u.a)({},A()),{},{children:[Object(m.jsx)("p",Object(u.a)(Object(u.a)({},A("count")),{},{children:a})),a>0?Object(m.jsx)("button",Object(u.a)(Object(u.a)({},A("remove-completed")),{},{onClick:function(){n.forEach((function(t){return t.completed?c(y(t.id)):""}))},children:"Remove completed"})):"",Object(m.jsx)("button",Object(u.a)(Object(u.a)({},A("complete-all")),{},{onClick:function(){"completed"!==e&&n.forEach((function(t){return t.completed?"":c(E(t.id))}))},children:"Complete all"}))]}))},L=(n(55),new f.a({name:"task"})),N=function(t){var e=Object(i.b)(),n=t.taskInfo,a=n.id,o=n.text,r=n.completed,s=Object(c.useState)(!1),l=Object(v.a)(s,2),j=l[0],b=l[1],d=Object(c.useState)(o),O=Object(v.a)(d,2),p=O[0],f=O[1];return Object(m.jsxs)("form",Object(u.a)(Object(u.a)({onSubmit:function(t){return t.preventDefault()}},L()),{},{children:[Object(m.jsxs)("label",{className:"b-contain",children:[Object(m.jsx)("input",Object(u.a)(Object(u.a)({},L("status")),{},{type:"checkbox",name:"complete",value:r,checked:r,onChange:function(){return e(E(a))}})),Object(m.jsx)("div",{className:"b-input"})]}),Object(m.jsx)("input",Object(u.a)(Object(u.a)({},L("id")),{},{type:"text",name:"id",value:a,hidden:!0,readOnly:!0})),Object(m.jsx)("input",Object(u.a)(Object(u.a)({},L("description")),{},{type:"text",name:"description",value:p,onDoubleClick:function(t){b(!0),t.target.classList.add("task__description--clicked"),t.target.setSelectionRange(t.target.value.length,t.target.value.length)},onInput:function(t){return j?f(t.target.value):""},onKeyDown:function(t){var n=t.key,c=function(){b(!1),t.target.blur(),t.target.classList.remove("task__description--clicked")};"Enter"===n&&(e(function(t,e){return function(n,c){var a=c().tasks.tasks,o={text:t};S.a.post("/todos/".concat(e),o).then((function(t){var e=t.data,c=a.map((function(t){return t.id===e.id?e:t}));n({type:"UPDATE_TASK",payload:c})})).catch((function(t){return alert(t)}))}}(p,a)),c()),"Escape"===n&&(f(o),c())}})),Object(m.jsx)("button",Object(u.a)(Object(u.a)({type:"button",name:"remove-task",onClick:function(){return e(y(a))}},L("remove")),{},{children:Object(m.jsx)("i",{className:"far fa-trash-alt"})}))]}))},w=(n(56),function(){var t=Object(i.c)((function(t){return t})),e=t.filterStatus,n=t.tasks,a=n.isLoading,o=n.tasks,r=Object(i.b)();Object(c.useEffect)((function(){r((function(t){S.a.get("/todos").then((function(e){t({type:"GET_TASKS",payload:e.data})})).catch((function(t){return alert(t)}))}))}),[]);return Object(m.jsx)("div",{children:a?Object(m.jsx)("div",{className:"loader",children:"Loading..."}):"completed"===e?o.reduce((function(t,e){return e.completed?t.concat(Object(m.jsx)(N,{taskInfo:e},e.id)):t}),[]):"uncompleted"===e?o.reduce((function(t,e){return e.completed?t:t.concat(Object(m.jsx)(N,{taskInfo:e},e.id))}),[]):o.map((function(t){return Object(m.jsx)(N,{taskInfo:t},t.id)}))})}),D=(n(57),function(){return Object(m.jsxs)("main",{className:"toDoList",children:[Object(m.jsx)("h1",{className:"toDoList__title",children:"To Do List"}),Object(m.jsx)(_,{}),Object(m.jsx)(w,{}),Object(m.jsx)(C,{}),Object(m.jsx)(x,{})]})});o.a.render(Object(m.jsx)(i.a,{store:O,children:Object(m.jsx)(D,{})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.5a5adc4f.chunk.js.map